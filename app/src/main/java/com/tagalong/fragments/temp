new GraphRequest(
          loginResult.getAccessToken(),
          "/me/email",
          null,
          HttpMethod.GET,
          new GraphRequest.Callback() {
            public void onCompleted(GraphResponse response) {
              try {
                Intent mainpageIntent = new Intent(getContext(), Mainpage.class);
                mainpageIntent.putExtra("friendsList", new FriendsArrayList(
                  response.getJSONObject().getJSONArray("data")
                ).getFriendObjects());
                mainpageIntent.putExtra("loginStatus", true);
                startActivity(mainpageIntent);
              } catch (org.json.JSONException e) {
                System.out.println("Exception: " + e);
              }
            }
          }
        ).executeAsync();